{"version":3,"sources":["../../mol.jam.js","-","mol.ts","../../func/name/name.ts","../../object/object.ts","../../conform/conform.ts","../../log/log.ts","../../log/log_context.ts","../../log/log_debug.web.ts","../../log/log_filter.web.ts","../../log/log_group.ts","../../defer/defer.ts","../../state/stack/stack.ts","../../atom/atom.ie.web.js","../../atom/atom.ts","../mem.ts"],"names":[],"mappings":"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","file":"web.js","sourcesContent":[null,null,"declare namespace $ {}\nexport = $\n\n","namespace $ {\n\t\n\texport var $mol_func_name_dict = new WeakMap< Function , string >()\n\n\texport function $mol_func_name( func : Function ) : string {\n\t\tlet name = $mol_func_name_dict.get( func )\n\t\tif( name != null ) return name\n\t\tname = func.name || Function.prototype.toString.call( func ).match( /([a-z0-9_$]*) ?(\\(|\\{|extends)/ )[ 1 ]\n\t\t$mol_func_name_dict.set( func , name )\n\t\t\n\t\treturn name\n\t}\n\n}\n","namespace $ {\n\n\texport namespace $$ { let $ }\n\t\n\texport type $mol_object_context = ( Window )&( typeof $.$$ )&( typeof $ )\n\t\n\texport class $mol_object {\n\t\t\n\t\tget $() {\n\t\t\tconst owner = this.object_owner()\n\t\t\treturn ( owner && owner.$ || $ ) as $mol_object_context\n\t\t}\n\t\t\n\t\tpublic static make< Instance >( this : { new() : Instance } , config : Partial< Instance > ) : Instance {\n\t\t\tconst instance = new this\n\t\t\tfor( let key in config ) instance[ key ] = config[ key ]\n\t\t\treturn instance\n\t\t}\n\t\t\n\t\tstatic toString() : string {\n\t\t\treturn $mol_func_name( this )\n\t\t}\n\t\t\n\t\t'object_owner()' : any\n\t\tobject_owner( next? : any ) {\n\t\t\treturn this[ 'object_owner()' ] || ( this[ 'object_owner()' ] = next )\n\t\t}\n\t\t\n\t\t'object_host()' : any\n\t\tobject_host( next? : any ) {\n\t\t\treturn this[ 'object_host()' ] || ( this[ 'object_host()' ] = next )\n\t\t}\n\t\t\n\t\t'object_field()' : string\n\t\tobject_field( next? : string ) {\n\t\t\treturn this[ 'object_field()' ] || ( this[ 'object_field()' ] = next ) || ''\n\t\t}\n\t\t\n\t\t'object_id()' : string\n\t\tobject_id( next? : string ) {\n\t\t\treturn this[ 'object_id()' ] || ( this[ 'object_id()' ] = next ) || ''\n\t\t}\n\n\t\ttoString() {\n\t\t\treturn this.object_id()\n\t\t}\n\t\t\n\t\ttoJSON() {\n\t\t\treturn this.toString()\n\t\t}\n\t\t\n\t\tdestructor() { }\n\t\t\n\t}\n\t\n}\n","namespace $ {\n\n\tconst cache = new WeakMap< any , boolean >()\n\n\texport const $mol_conform_stack = [] as any[]\n\n\texport function $mol_conform< Target , Source >( target : Target , source : Source ) : Target {\n\n\t\tif( target as any === source as any ) return source as any\n\n\t\tif( !target || typeof target !== 'object' ) return target\n\t\tif( !source || typeof source !== 'object' ) return target\n\n\t\tif( target instanceof Error ) return target\n\t\tif( source instanceof Error ) return target\n\t\t\n\t\tif( target.constructor !== source.constructor ) return target\n\n\t\tif( cache.get( target ) ) return target\n\t\tcache.set( target , true )\n\t\t\n\t\tconst conform = $mol_conform_handlers.get( target.constructor )\n\t\tif( !conform ) return target\n\n\t\tif( $mol_conform_stack.indexOf( target ) !== -1 ) return target\n\n\t\t$mol_conform_stack.push( target )\n\n\t\ttry { return conform( target , source ) }\n\t\tfinally { $mol_conform_stack.pop() }\n\n\t}\n\n\texport const $mol_conform_handlers = new WeakMap< Object , ( target : any , source : any )=> any >()\n\n\texport function $mol_conform_handler< Class >(\n\t\tcl : { new( ... args : any[] ) : Class } ,\n\t\thandler : ( target : Class , source : Class )=> Class ,\n\t) {\n\t\t$mol_conform_handlers.set( cl , handler )\n\t}\n\n\t$mol_conform_handler( Array , ( target , source )=> {\n\t\t\n\t\tlet equal = target.length === source.length\n\n\t\tfor( let i = 0 ; i < target.length ; ++i ) {\n\t\t\tconst conformed = $mol_conform( target[i] , source[i] )\n\t\t\tif( conformed !== target[i] ) {\n\t\t\t\ttry { target[i] = conformed }\n\t\t\t\tcatch( error ) { equal = false }\n\t\t\t}\n\t\t\tif( equal && conformed !== source[i] ) equal = false\n\t\t}\n\n\t\treturn equal ? source : target\n\t} )\n\n\t$mol_conform_handler( Object , ( target , source )=> {\n\n\t\tlet count = 0\n\t\tlet equal = true\n\n\t\tfor( let key in target ) {\n\t\t\tconst conformed = $mol_conform( target[key] , source[key] )\n\t\t\tif( conformed !== target[key] ) {\n\t\t\t\ttry { target[key] = conformed } catch( error ) {}\n\t\t\t\tif( conformed !== target[key] ) equal = false\n\t\t\t}\n\t\t\tif( conformed !== source[key] ) equal = false\n\t\t\t++ count\n\t\t}\n\n\t\tfor( let key in source ) if( -- count < 0 ) break\n\n\t\treturn ( equal && count === 0 ) ? source : target\n\t} )\n\n\t$mol_conform_handler( Date , ( target , source )=> {\n\t\tif( target.getTime() === source.getTime() ) return source\n\t\treturn target \n\t} )\n\n\t$mol_conform_handler( RegExp , ( target , source )=> {\n\t\tif( target.toString() === source.toString() ) return source\n\t\treturn target\n\t} )\n\n}\n","namespace $ {\n\n\texport function $mol_log( path : any , ... values : any[] ) {\n\t\t\n\t\tif( $mol_log_filter() == null ) return\n\t\t\n\t\tpath = String( path )\n\t\tif( path.indexOf( $mol_log_filter() ) === -1 ) return\n\t\t\n\t\tif( $mol_log_context() ) $mol_log_context()()\n\t\t\n\t\tconsole.debug( path , ... values )\n\n\t\tif( $mol_log_debug() == null ) return\n\t\tif( path.indexOf( $mol_log_debug() ) === -1 ) return\n\t\t\n\t\tdebugger\n\t}\n\t\n}\n","namespace $ {\n\n\tlet context : ()=> void = null\n\texport function $mol_log_context( next = context ) {\n\t\treturn context = next\n\t}\n\n}\n","namespace $ {\n\t\n\texport function $mol_log_debug( next? : string ) {\n\n\t\tif( next !== undefined ) {\n\t\t\tif( next == null ) {\n\t\t\t\tsessionStorage.removeItem( '$mol_log_debug()' )\n\t\t\t} else {\n\t\t\t\tsessionStorage.setItem( '$mol_log_debug()' , next )\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn sessionStorage.getItem( '$mol_log_debug()' )\n\t}\n\n}\n","namespace $ {\n\t\n\tlet filter : string\n\texport function $mol_log_filter( next? : string ) {\n\n\t\tif( next !== undefined ) {\n\t\t\tif( next == null ) {\n\t\t\t\tsessionStorage.removeItem( '$mol_log_filter()' )\n\t\t\t} else {\n\t\t\t\tsessionStorage.setItem( '$mol_log_filter()' , next )\n\t\t\t}\n\n\t\t\tfilter = next\n\t\t}\n\n\t\tif( filter !== undefined ) return filter\n\t\t\n\t\treturn filter = sessionStorage.getItem( '$mol_log_filter()' )\n\t}\n\n}\n","namespace $ {\n\n\texport function $mol_log_group< Task extends Function >( name : string , task : Task ) {\n\t\t\n\t\treturn function $mol_log_group_wrapper( ... args : any [] ) {\n\t\t\tconst filter = $mol_log_filter()\n\t\t\tif( filter == null ) return task.apply( this , args )\n\n\t\t\tlet started = false\n\t\t\tlet prev = $mol_log_context()\n\n\t\t\t$mol_log_context( ()=> {\n\t\t\t\tif( prev ) prev()\n\t\t\t\tstarted = true\n\t\t\t\tif( filter ) console.group( name )\n\t\t\t\telse console.groupCollapsed( name )\n\t\t\t\t$mol_log_context( prev = null )\n\t\t\t} )\n\t\t\t\n\t\t\ttry {\n\t\t\t\treturn task.apply( this , args )\n\t\t\t} finally {\n\t\t\t\tif( started ) console.groupEnd()\n\t\t\t\t$mol_log_context( prev )\n\t\t\t}\n\n\t\t} as any as Task\n\n\t}\n\n}\n","namespace $ {\n\t\n\texport class $mol_defer extends $mol_object {\n\t\t\n\t\tconstructor( public run : ()=> void ) {\n\t\t\tsuper()\n\t\t\t$mol_defer.add( this )\n\t\t}\n\t\t\n\t\tdestructor() {\n\t\t\t$mol_defer.drop( this )\n\t\t}\n\t\t\n\t\tstatic all : $mol_defer[] = []\n\t\tstatic timer = 0\n\t\t\n\t\tstatic scheduleNative : ( handler : ()=> void ) => number = ( typeof requestAnimationFrame == 'function' )\n\t\t\t? handler => requestAnimationFrame( handler )\n\t\t\t: handler => setTimeout( handler , 16 )\n\t\t\n\t\tstatic schedule() {\n\t\t\tif( this.timer ) return\n\t\t\t\n\t\t\tthis.timer = this.scheduleNative( ()=> {\n\t\t\t\tthis.timer = 0\n\t\t\t\tthis.run()\n\t\t\t} )\n\t\t}\n\t\t\n\t\tstatic unschedule() {\n\t\t\tif( !this.timer ) return\n\t\t\t\n\t\t\tcancelAnimationFrame( this.timer )\n\t\t\tthis.timer = 0\n\t\t}\n\t\t\n\t\tstatic add( defer : $mol_defer ) {\n\t\t\tthis.all.push( defer )\n\t\t\tthis.schedule()\n\t\t}\n\t\t\n\t\tstatic drop( defer : $mol_defer ) {\n\t\t\tvar index = this.all.indexOf( defer )\n\t\t\tif( index >= 0 ) this.all.splice( index , 1 )\n\t\t}\n\t\t\n\t\tstatic run() {\n\t\t\tif( this.all.length === 0 ) return\n\t\t\tthis.schedule()\n\t\t\tfor( var defer : $mol_defer ; defer = this.all.shift() ; ) defer.run()\n\t\t\t//this.unschedule()\n\t\t}\n\t\t\n\t}\n\n}\n","namespace $ {\n\t\n\t/// Global storage of temporary state\n\texport var $mol_state_stack = new Map< string , any >()\n\t\n}\n",null,"namespace $ {\n\t\n\texport enum $mol_atom_status {\n\t\tobsolete = 'obsolete' ,\n\t\tchecking = 'checking' ,\n\t\tpulling = 'pulling' ,\n\t\tactual = 'actual' ,\n\t}\n\t\n\texport class $mol_atom< Value = any > extends $mol_object {\n\t\t\n\t\tmasters : Set< $mol_atom<any> > | null = null\n\t\tslaves : Set< $mol_atom<any> > | null = null\n\t\t\n\t\tstatus = $mol_atom_status.obsolete\n\t\t\n\t\treadonly handler : ( next? : Value|Error , force? : $mol_atom_force )=> Value|void\n\n\t\t'value()' : Value|Error\n\t\t\n\t\tconstructor(\n\t\t\tid : string ,\n\t\t\thandler : ( next? : Value , force? : $mol_atom_force )=> Value|void = next => next ,\n\t\t) {\n\t\t\tsuper()\n\t\t\t\n\t\t\tthis.object_id( id )\n\t\t\tthis.handler = handler\n\t\t}\n\t\t\n\t\tdestructor() {\n\t\t\tthis.unlink()\n\t\t\tthis.status = $mol_atom_status.actual\n\t\t\t\n\t\t\tconst value = this['value()']\n\t\t\t\n\t\t\tif( value instanceof $mol_object ) {\n\t\t\t\tif( value.object_owner() === this ) value.destructor();\n\t\t\t}\n\n\t\t\tthis['value()'] = undefined\n\t\t}\n\t\t\n\t\tunlink() {\n\t\t\tthis.disobey_all()\n\t\t\tif( this.slaves ) this.check_slaves()\n\t\t}\n\t\t\n\t\tget( force? : $mol_atom_force ) {\n\t\t\t\n\t\t\tconst slave = $mol_atom.stack[0]\n\t\t\tif( slave ) {\n\t\t\t\tthis.lead( slave )\n\t\t\t\tslave.obey( this )\n\t\t\t}\n\t\t\t\n\t\t\tthis.actualize( force )\n\t\t\t\n\t\t\tconst value = this['value()'] as Value\n\t\t\t\n\t\t\tif( typeof Proxy !== 'function' && value instanceof Error ) {\n\t\t\t\tthrow value\n\t\t\t}\n\t\t\t\n\t\t\treturn value as Value\n\t\t}\n\t\t\n\t\tactualize( force? : $mol_atom_force ) {\n\t\t\t\n\t\t\tif( this.status === $mol_atom_status.pulling ) {\n\t\t\t\tthrow new Error( `Cyclic atom dependency of ${ this }` )\n\t\t\t}\n\t\t\t\n\t\t\tif( !force && this.status === $mol_atom_status.actual ) return\n\t\t\t\n\t\t\tconst slave = $mol_atom.stack[0]\n\t\t\t$mol_atom.stack[0] = this\n\t\t\t\n\t\t\tif( !force && this.status === $mol_atom_status.checking ) {\n\t\t\t\t\n\t\t\t\tthis.masters!.forEach(\n\t\t\t\t\tmaster => {\n\t\t\t\t\t\tif( this.status !== $mol_atom_status.checking ) return\n\t\t\t\t\t\tmaster.actualize()\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\n\t\t\t\tif( this.status === $mol_atom_status.checking ) {\n\t\t\t\t\tthis.status = $mol_atom_status.actual\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif( force || this.status !== $mol_atom_status.actual ) {\n\t\t\t\t\n\t\t\t\tconst oldMasters = this.masters\n\t\t\t\tthis.masters = null\n\t\t\t\t\n\t\t\t\tif( oldMasters ) oldMasters.forEach(\n\t\t\t\t\tmaster => {\n\t\t\t\t\t\tmaster.dislead( this )\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\n\t\t\t\tthis.status = $mol_atom_status.pulling\n\t\t\t\tconst next = this.pull( force )\n\t\t\t\t\n\t\t\t\tif( next === undefined ) {\n\t\t\t\t\tthis.status = $mol_atom_status.actual\n\t\t\t\t} else {\n\t\t\t\t\tthis.push( next )\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t$mol_atom.stack[0] = slave\n\t\t}\n\t\t\n\t\tpull( force? : $mol_atom_force ) {\n\t\t\ttry {\n\t\t\t\treturn this.handler( this._next , force )\n\t\t\t} catch( error ) {\n\t\t\t\tif( error[ '$mol_atom_catched' ] ) return error\n\t\t\t\tif( error instanceof $mol_atom_wait ) return error\n\t\t\t\t\n\t\t\t\tconsole.error( error.stack || error )\n\t\t\t\t\n\t\t\t\tif(!( error instanceof Error )) {\n\t\t\t\t\terror = new Error( error.stack || error )\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\terror['$mol_atom_catched'] = true\n\t\t\t\treturn error\n\t\t\t}\n\t\t}\n\t\t\n\t\t_next : Value|Error\n\t\t_ignore : Value|Error\n\t\t\n\t\tset( next : Value ) {\n\t\t\treturn this.value( next )\n\t\t}\n\t\t\n\t\tpush( next_raw? : Value|Error ) : Value {\n\t\t\tif(!( next_raw instanceof $mol_atom_wait )) {\n\t\t\t\tthis._ignore = this._next\n\t\t\t\tthis._next = undefined\n\t\t\t}\n\t\t\t\n\t\t\tthis.status = next_raw === undefined ? $mol_atom_status.obsolete : $mol_atom_status.actual\n\t\t\t\n\t\t\tconst prev = this['value()']\n\t\t\t\n\t\t\tlet next = ( next_raw instanceof Error || prev instanceof Error ) ? next_raw : $mol_conform( next_raw , prev )\n\t\t\t\n\t\t\tif( next === prev ) return prev as Value\n\t\t\t\n\t\t\tif( prev instanceof $mol_object ) {\n\t\t\t\tif( prev.object_owner() === this ) prev.destructor()\n\t\t\t}\n\t\t\t\n\t\t\tif( next instanceof $mol_object ) {\n\t\t\t\tnext.object_owner( this )\n\t\t\t}\n\t\t\t\n\t\t\tif(( typeof Proxy === 'function' )&&( next instanceof Error )) {\n\t\t\t\tnext = new Proxy( next , {\n\t\t\t\t\tget( target : Error ) {\n\t\t\t\t\t\tthrow target.valueOf()\n\t\t\t\t\t} ,\n\t\t\t\t\townKeys( target : Error ) : string[] {\n\t\t\t\t\t\tthrow target.valueOf()\n\t\t\t\t\t} ,\n\t\t\t\t} )\n\t\t\t}\n\t\t\t\n\t\t\tthis['value()'] = next\n\t\t\t$mol_log( this , prev , '➔' , next )\n\t\t\t\n\t\t\tthis.obsolete_slaves()\n\t\t\t\n\t\t\treturn next as Value\n\t\t}\n\t\t\n\t\tobsolete_slaves() {\n\t\t\tif( !this.slaves ) return\n\t\t\t\n\t\t\tthis.slaves.forEach( slave => slave.obsolete() )\n\t\t}\n\t\t\n\t\tcheck_slaves() {\n\t\t\tif( this.slaves ) {\n\t\t\t\tthis.slaves.forEach( slave => slave.check() )\n\t\t\t} else {\n\t\t\t\t$mol_atom.actualize( this )\n\t\t\t}\n\t\t}\n\t\t\n\t\tcheck() {\n\t\t\t//if( this.status === $mol_atom_status.pulling ) {\n\t\t\t//\tthrow new Error( `May be obsolated while pulling ${ this }` )\n\t\t\t//}\n\t\t\t\n\t\t\tif( this.status === $mol_atom_status.actual ) {\n\t\t\t\tthis.status = $mol_atom_status.checking\n\t\t\t\t\n\t\t\t\tthis.check_slaves()\n\t\t\t}\n\t\t}\n\t\t\n\t\tobsolete() {\n\t\t\tif( this.status === $mol_atom_status.obsolete ) return\n\t\t\t\n\t\t\t//if( this.status === $mol_atom_status.pulling ) {\n\t\t\t//\tthrow new Error( `Obsolated while pulling ${ this }` )\n\t\t\t//} \n\t\t\t\n\t\t\tthis.status = $mol_atom_status.obsolete\n\t\t\t\n\t\t\tthis.check_slaves()\n\t\t\t\n\t\t\treturn\n\t\t}\n\t\t\n\t\tlead( slave : $mol_atom<any> ) {\n\t\t\tif( !this.slaves ) {\n\t\t\t\tthis.slaves = new Set<$mol_atom<any>>()\n\t\t\t\t$mol_atom.unreap( this )\n\t\t\t}\n\t\t\tthis.slaves.add( slave )\n\t\t}\n\t\t\n\t\tdislead( slave : $mol_atom<any> ) {\n\t\t\tif( !this.slaves ) return\n\t\t\t\n\t\t\tif( this.slaves.size === 1 ) {\n\t\t\t\tthis.slaves = null\n\t\t\t\t$mol_atom.reap( this )\n\t\t\t} else {\n\t\t\t\tthis.slaves.delete( slave )\n\t\t\t}\n\t\t}\n\t\t\n\t\tobey( master : $mol_atom<any> ) {\n\t\t\tif( !this.masters ) this.masters = new Set< $mol_atom<any> >()\n\t\t\tthis.masters.add( master )\n\t\t}\n\t\t\n\t\tdisobey( master : $mol_atom<any> ) {\n\t\t\tif( !this.masters ) return\n\t\t\tthis.masters.delete( master )\n\t\t}\n\t\t\n\t\tdisobey_all() {\n\t\t\tif( !this.masters ) return\n\t\t\t\n\t\t\tthis.masters.forEach( master => master.dislead( this ) )\n\t\t\t\n\t\t\tthis.masters = null\n\t\t}\n\n\t\tcache( next? : Value|Error ) {\n\t\t\tif( next === undefined ) return this['value()']\n\t\t\treturn this['value()'] = next\n\t\t}\n\t\t\n\t\tvalue( next? : Value , force? : $mol_atom_force ) : Value {\n\n\t\t\tif( force === $mol_atom_force_cache ) return this.push( next )\n\n\t\t\tif( next !== undefined ) {\n\t\t\t\t\n\t\t\t\tif( force === $mol_atom_force ) return this.push( next )\n\n\t\t\t\tlet next_normal = $mol_conform( next , this._ignore )\n\t\t\t\tif( next_normal === this._ignore ) return this.get( force )\n\n\t\t\t\tif(!( this['value()'] instanceof Error )) {\n\t\t\t\t\tnext_normal = $mol_conform( next , this['value()'] )\n\t\t\t\t\tif( next_normal === this['value()'] ) return this.get( force )\n\t\t\t\t}\n\n\t\t\t\tthis._next = next_normal\n\t\t\t\tthis._ignore = next_normal\n\n\t\t\t\tforce = $mol_atom_force_update\n\t\t\t}\n\t\t\t\n\t\t\treturn this.get( force )\n\t\t}\n\t\t\n\t\tstatic stack = [] as $mol_atom<any>[]\n\t\tstatic updating : $mol_atom<any>[] = []\n\t\tstatic reaping = new Set< $mol_atom<any> >()\n\t\tstatic scheduled = false\n\t\t\n\t\tstatic actualize( atom : $mol_atom<any> ) {\n\t\t\t$mol_atom.updating.push( atom )\n\t\t\t$mol_atom.schedule()\n\t\t}\n\t\t\n\t\tstatic reap( atom : $mol_atom<any> ) {\n\t\t\t$mol_atom.reaping.add( atom )\n\t\t\t$mol_atom.schedule()\n\t\t}\n\t\t\n\t\tstatic unreap( atom : $mol_atom<any> ) {\n\t\t\t$mol_atom.reaping.delete( atom )\n\t\t}\n\t\t\n\t\tstatic schedule() {\n\t\t\tif( this.scheduled ) return\n\t\t\t\n\t\t\tnew $mol_defer(\n\t\t\t\t$mol_log_group( '$mol_atom.sync()' , () => {\n\t\t\t\t\tif( !this.scheduled ) return\n\t\t\t\t\tthis.scheduled = false\n\t\t\t\t\tthis.sync()\n\t\t\t\t} )\n\t\t\t)\n\t\t\t\n\t\t\tthis.scheduled = true\n\t\t}\n\t\t\n\t\tstatic sync() {\n\t\t\tthis.schedule()\n\t\t\t\n\t\t\twhile( true ) {\n\t\t\t\tconst atom = this.updating.shift()\n\t\t\t\tif( !atom ) break\n\t\t\t\tif( this.reaping.has( atom ) ) continue\n\t\t\t\tif( atom.status !== $mol_atom_status.actual ) atom.get()\n\t\t\t}\n\t\t\t\n\t\t\twhile( this.reaping.size ) {\n\t\t\t\tthis.reaping.forEach(\n\t\t\t\t\tatom => {\n\t\t\t\t\t\tthis.reaping.delete( atom )\n\t\t\t\t\t\tif( !atom.slaves ) atom.destructor()\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\t\n\t\t\tthis.scheduled = false\n\t\t}\n\t\t\n\t\tthen< Next >( done : ( prev? : Value )=> Next , fail? : ( error : Error )=> Next ) {\n\t\t\t\n\t\t\tlet prev : Value\n\t\t\tlet next : Next\n\t\t\t\n\t\t\tconst atom = new $mol_atom<any>(\n\t\t\t\t`${ this }.then(${ done })` ,\n\t\t\t\t() => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( prev == undefined ) {\n\t\t\t\t\t\t\tconst val = this.get()\n\t\t\t\t\t\t\tif( val instanceof $mol_atom_wait ) return val\n\t\t\t\t\t\t\tif( val ) val.valueOf()\n\t\t\t\t\t\t\tprev = val\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( next == undefined ) {\n\t\t\t\t\t\t\tconst val = done( prev )\n\t\t\t\t\t\t\tif( val instanceof $mol_atom_wait ) return val\n\t\t\t\t\t\t\tif( val ) val.valueOf()\n\t\t\t\t\t\t\tnext = val\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn next\n\n\t\t\t\t\t} catch( error ) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( error instanceof $mol_atom_wait ) return error\n\t\t\t\t\t\t\n\t\t\t\t\t\tif( fail ) return fail( error )\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn error\n\t\t\t\t\t}\n\n\t\t\t\t} ,\n\t\t\t)\n\t\t\t\n\t\t\t$mol_atom.actualize( atom )\n\t\t\t\n\t\t\treturn atom\n\t\t}\n\t\t\n\t\tcatch( fail : ( error : Error )=> Value ) {\n\t\t\treturn this.then( next => next , fail )\n\t\t}\n\t\t\n\t}\n\t\n\t$mol_state_stack.set( '$mol_atom.stack' , $mol_atom.stack )\n\n\texport function $mol_atom_current< Value = any >() {\n\t\treturn $mol_atom.stack[0] as $mol_atom< Value >\n\t}\n\t\n\texport class $mol_atom_wait extends Error {\n\t\tname = '$mol_atom_wait'\n\t}\n\t\n\texport class $mol_atom_force extends Object {\n\t\t$mol_atom_force : boolean\n\t\tstatic $mol_atom_force : boolean\n\t\tstatic toString() { return this.name }\n\t}\n\n\texport class $mol_atom_force_cache extends $mol_atom_force {}\n\texport class $mol_atom_force_update extends $mol_atom_force {}\n\t\n}\n","namespace $ {\n\t\n\texport function $mol_mem< Host , Value >(\n\t\tobj? : Host ,\n\t\tname? : string ,\n\t\tdescr? : TypedPropertyDescriptor< ( next? : Value , force? : $mol_atom_force )=> Value >\n\t) {\n\n\t\tconst value = descr.value\n\t\tconst store = new WeakMap< Object , $mol_atom<Value> >()\n\t\t\n\t\tdescr.value = function $mol_mem_value( next? : Value , force? : $mol_atom_force ) {\n\t\t\tconst host : any = this\n\t\t\n\t\t\tlet atom : $mol_atom<Value> = store.get( host )\n\t\t\tif( !atom ) {\n\t\t\t\t\n\t\t\t\tconst id = `${ host }.${ name }()`\n\t\t\t\tatom = new $mol_atom<Value>( id , function() {\n\t\t\t\t\tconst v = value.apply( host , arguments )\n\t\t\t\t\tif( v instanceof $mol_object ) {\n\t\t\t\t\t\tif( !v.object_host() ) {\n\t\t\t\t\t\t\tv.object_host( host )\n\t\t\t\t\t\t\tv.object_field( name )\n\t\t\t\t\t\t\tv.object_id( id )\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn v\n\t\t\t\t} )\n\n\t\t\t\tatom.object_owner( host )\n\t\t\t\t\n\t\t\t\tconst destructor = atom.destructor\n\t\t\t\tatom.destructor = ()=> {\n\t\t\t\t\tstore.delete( host )\n\t\t\t\t\tdestructor.call( atom )\n\t\t\t\t}\n\n\t\t\t\tstore.set( host , atom )\n\t\t\t}\n\t\t\t\n\t\t\treturn atom.value( next , force )\n\t\t}\n\t\t\n\t\tObject.defineProperty( obj , name + \"()\" , { get : function() { return store.get( this ) } } )\n\n\t\tdescr.value[ 'value' ] = value\n\t}\n\t\n\texport function $mol_mem_key< Host , Key , Value >(\n\t\tobj : Host ,\n\t\tname : string ,\n\t\tdescr : TypedPropertyDescriptor< ( key : Key , next? : Value , force? : $mol_atom_force )=> Value >\n\t) {\n\t\tconst value = descr.value\n\t\tconst store = new WeakMap< Object , { [ key : string ] : $mol_atom<Value> } >()\n\t\t\n\t\tdescr.value = function $mol_mem_key_value( key : Key , next : Value , force? : $mol_atom_force ) {\n\t\t\tconst host : any = this\n\t\t\tconst key_str = JSON.stringify( key )\n\t\t\t\n\t\t\tlet dict = store.get( host )\n\t\t\tif( !dict ) store.set( host , dict = {} )\n\t\t\t\n\t\t\tlet atom : $mol_atom<Value> = dict[ key_str ]\n\t\t\tif( !atom ) {\n\t\t\t\t\n\t\t\t\tconst id = `${ host }.${ name }(${ key_str })`\n\t\t\t\tatom = new $mol_atom<Value>( id , function( ... args: any[] ) {\n\t\t\t\t\tconst v = value.apply( host , [ key , ... args ] )\n\t\t\t\t\tif( v instanceof $mol_object ) {\n\t\t\t\t\t\tif( !v.object_host() ) {\n\t\t\t\t\t\t\tv.object_host( host )\n\t\t\t\t\t\t\tv.object_field( name )\n\t\t\t\t\t\t\tv.object_id( id )\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn v\n\t\t\t\t} )\n\n\t\t\t\tconst destructor = atom.destructor\n\t\t\t\tatom.destructor = ()=> {\n\t\t\t\t\tdelete dict[ key_str ]\n\t\t\t\t\tdestructor.call( atom )\n\t\t\t\t}\n\n\t\t\t\tdict[ key_str ] = atom\n\n\t\t\t}\n\t\t\t\n\t\t\treturn atom.value( next , force )\n\t\t}\n\t\t\n\t\tObject.defineProperty( obj , name + \"()\" , { get : function() { return store.get( this ) } } )\n\t\tvoid( ( descr.value as any )[ 'value' ] = value )\n\t}\n\t\n}\n"]}